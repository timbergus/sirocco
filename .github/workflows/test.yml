name: test
run-name: Testing Sirocco server
on: [push]
jobs:
  testing_server:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - run: sudo apt update
      - run: sudo apt install libfmt-dev
      - run: sudo apt install nlohmann-json3-dev
      - run: sudo apt install clang-15
      - run: pip install conan
      - run: conan profile detect
      - run: make init
      - run: make sirocco
      - run: make test
